<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Slides.knit</title>
    <meta charset="utf-8" />
    <script src="libs/header-attrs-2.28/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/default-fonts.css" rel="stylesheet" />
    <link href="libs/panelset-0.3.0/panelset.css" rel="stylesheet" />
    <script src="libs/panelset-0.3.0/panelset.js"></script>
    <link href="libs/tile-view-0.2.6/tile-view.css" rel="stylesheet" />
    <script src="libs/tile-view-0.2.6/tile-view.js"></script>
    <script src="libs/xaringanExtra-progressBar-0.0.1/progress-bar.js"></script>
  </head>
  <body>
    <textarea id="source">

class: inverse, middle, center





<style>.xe__progress-bar__container {
  top:0;
  opacity: 1;
  position:absolute;
  right:0;
  left: 0;
}
.xe__progress-bar {
  height: 0.25em;
  background-color: #808080;
  width: calc(var(--slide-current) / var(--slide-total) * 100%);
}
.remark-visible .xe__progress-bar {
  animation: xe__progress-bar__wipe 200ms forwards;
  animation-timing-function: cubic-bezier(.86,0,.07,1);
}
@keyframes xe__progress-bar__wipe {
  0% { width: calc(var(--slide-previous) / var(--slide-total) * 100%); }
  100% { width: calc(var(--slide-current) / var(--slide-total) * 100%); }
}</style>

&lt;style type="text/css"&gt;
.pull-left {
  float: left;
  width: 44%;
}
.pull-right {
  float: right;
  width: 44%;
}
.pull-right ~ p {
  clear: both;
}


.pull-left-wide {
  float: left;
  width: 66%;
}
.pull-right-wide {
  float: right;
  width: 66%;
}
.pull-right-wide ~ p {
  clear: both;
}

.pull-left-narrow {
  float: left;
  width: 33%;
}
.pull-right-narrow {
  float: right;
  width: 33%;
}

.small123 {
  font-size: 0.80em;
}

.large123 {
  font-size: 2em;
}

.red {
  color: red
}

.xsmall123 {
  font-size: 0.60em;
}

.pull-center {
  margin-left: auto;
  margin-right: auto;
  width: 50%;
  text-align: left;
}

.pull-center-narrow {
  margin-left: auto;
  margin-right: auto;
  width: 30%;
  text-align: left;
}
&lt;/style&gt;

# Railroads and the happy Danes

### Tom Görges, TU Dortmund University
### Paul Sharp, University of Southern Denmark
### Christian Vedel, University of Southern Denmark
### Magnus Ørberg, University of Copenhagen

#### *Updated 2025-04-04*

**Email:** &lt;christian-vs@sam.sdu.dk&gt;  
**Twitter:** [@ChristianVedel](https://twitter.com/ChristianVedel)  
**BlueSky:** [@christianvedel.bsky.social](https://bsky.app/profile/christianvedel.bsky.social)  
**GitHub:** [github.com/christianvedels/Railways_and_the_happy_Danes](https://github.com/christianvedels/Railways_and_the_happy_Danes)

---



.pull-left-wide[
# Railways and the Happy Danes

### Motivaiton
- Does economic development cause increased level of well-being?
- Railways brings prosperity and new ideas, but is this then converted into increased levels of happiness?
- Broader story mostly


### This presentation
- Using off-the-shelf ML, we analyzing 2M (600K for now) geo-located pictures to find an answer
- Some preliminary results
]

.pull-right-narrow[
Example picture from Arkiv.dk
 
https://arkiv.dk/vis/178152

![School](Figures/annotated_178152.png)
.small123[
*Source: Arkiv.dk*
]
]

---
# This project has become two papers

.pull-left[
#### This first paper ('basic results+')

- Findings: 
  + Railways brought prosperity (population density, manufacturing)
  + Grundtvigianism: A turn to local inclusive instutions, which shaped how Denmark 'got to Denmark'
  + Later lines more important than early 'main' lines.

#### The second paper ('novelty')
- The new picture based stuff
- Did railways then also make people (visibly) happier?
]

.pull-right[
![arXiv](Figures/arxiv.png)

https://arxiv.org/abs/2502.12323
]


---
class: inverse, center, middle

# Background

---
class: center, middle

# The hypothesis in summary

.pull-center[
1. Railways brought modern production and modern ideas (paper 1)
2. In the Danish case the central idea was Grundtvigianism (paper 1)
3. Railways made people happier. Market access shapes emotional well-being (paper 2)
]


.footnote[
.small123[
  *The null finding is also rather interesting: Interconnectedness having no effect on well-being.
]
]


---
# Literature

.pull-left[
.small123[
- Fogel (1964): Social savings reveals small effect
- Atack, Bateman, Haines, Margo, (2010): DiD reveals large effect
- Donaldson &amp; Hornbeck (2016): Market access approach reveals massive effect 
- Berger, Enflo, K. (2017): Large persistent effect in Sweden 
- Berger (2019): No spill-over on population - some spill-over on industry
- Zimran (2020): Urbanization and health
- Bogart, You, Alvarez-Palau, Satchell, Shaw-Taylor (2022): Urbanization and structural change
- Cermeño, Enflo, Lindvall (2022): Railroads, state and schooling
- Melander (2023): Railroads and social movements in Sweden
- Vedel (2024): Water infrastructure: 26 percent population growth in DK 
- Voth &amp; Yanagizawa-Drott (2024): Image(s)
- Gorin, Heblich, Zylberberg (2024): State of the art

...*So much more*
]
]

.pull-right[
![Fogel](Figures/Fogel.jpg)
]

---
# Railways in Denmark 

.pull-left[
- First line opened between Roskilde and Copenhagen in 1847
- Many lines initiated in Fyn and Jutland by Petro, Brassey and Betts
- State railway company formed when they went bankrupt
- Main lines operated as state lines in most of the relevant period
]

.pull-right[
![Petro, Brassey, Betts company](Figures/Petro, Brassey, Betts company.jpg)
Petro, Brassey, Betts company ([Wikimedia commons](https://commons.wikimedia.org/wiki/File:Victoria_Bridge,_Montreal.jpg))
]

---
# Grundtvianism 
.pull-left-wide[
- The origin of the liberal Danish spirit
- NFS Grundtvig (1783-1872):
  + 'Founding father' of the first 'free' constitution in 1849 
  + Promoted the idea of 'Dannelse' (like ['Bildung'](https://en.wikipedia.org/wiki/Bildung))
  + Revitalised the study of vikings 
  + Wrote more than 30000 works 
  + His influence touches everything
  + Community houses: Local democracy
  + Høj skoler: Education of farmers (Folk high schools)
  + Cooperative creameries! (Important: Lampe &amp; Sharp)
]

.pull-right-narrow[
&lt;img src="Figures/Forsamlingshus.jpg" width="65%" alt="Forsamlingshus"&gt;
.small123[
Grundtvigian Community House of Funen in Odense  
1971 (Stadsarkivet)
]
]


---
class: center

# The hypothesis in pictures
--

.pull-left-narrow[
.panelset[
.panel[.panel-name[Sad]
**Crilles Dirches &amp; Ane Sophie Hans Johansens**
*https://arkiv.dk/vis/159960*
&lt;img src="Figures/annotated_159960.png" width="75%" alt="https://arkiv.dk/vis/159960"&gt;
]
.panel[.panel-name[Fear]
**Master Taylor Mathias Jørgen Schrøder**
*https://arkiv.dk/vis/1042395*
&lt;img src="Figures/annotated_1042395.png" width="75%" alt="https://arkiv.dk/vis/1042395"&gt;
]
.panel[.panel-name[Anger]
**Bodil Jensdatter**
*https://arkiv.dk/vis/369089*
&lt;img src="Figures/annotated_369089.png" width="75%" alt="https://arkiv.dk/vis/369089"&gt;
]

]
]

--

.pull-right-wide[
.panelset[
.panel[.panel-name[Train]
**...But then**  
&lt;img src="Figures/beta.dreamstudio.ai.png" width="40%" alt="AI generated train"&gt;
]

.panel[.panel-name[Happy 1]

**Thora Kirstine Thorsen**
*https://arkiv.dk/vis/178152*
&lt;img src="Figures/annotated_178152.png" width="40%" alt="https://arkiv.dk/vis/178152"&gt;
]

.panel[.panel-name[Happy 2]

**Niels Aage Nielsen**
*https://arkiv.dk/vis/103676*
&lt;img src="Figures/annotated_103676.png" width="75%" alt="https://arkiv.dk/vis/103676"&gt;
]

.panel[.panel-name[Happy 3]
**Inge, Grete &amp; Axel**
*https://arkiv.dk/vis/114519*
&lt;img src="Figures/annotated_114519.png" width="75%" alt="https://arkiv.dk/vis/114519"&gt;
]

.panel[.panel-name[Happy 4]
**Ena &amp; Eriks wedding**
*https://arkiv.dk/vis/316474*
&lt;img src="Figures/annotated_316474.png" width="75%" alt="https://arkiv.dk/vis/316474"&gt;
]
]
]



---
class: middle
# Hypothesis in terms of things we can measure:
1. Railways and markets (check)
2. Railways and modern ideas (check)
3. Pictures and happiness (?)
4. Railways and happiness (?)



---
# Data

.pull-left[
- Census data (1787-1901)
- Railroads shape files (Fertner 2013)
- Indidivual level happiness from pictures
]

.pull-right[
.small123[
.panelset[
.panel[.panel-name[1850]
![1850](Figures/actual_railwaysN_Y1850.png)
]
.panel[.panel-name[1860]
![1860](Figures/actual_railwaysN_Y1860.png)
]
.panel[.panel-name[1880]
![1880](Figures/actual_railwaysN_Y1880.png)
]
.panel[.panel-name[1901]
![1901](Figures/actual_railwaysN_Y1901.png)
]
]
]
]


---
class: middle
# Happiness from pictures

.pull-left[
### Method
- We use off the shelf object detection (DERT-ResNet-50): https://huggingface.co/facebook/detr-resnet-50 
- And off the shelf Facial Emotion Detection (FER library)

### Obvious problems

- Should you smile on a picture? Obviously a cultural matter
- AI quality and bias
- Selection: Pictures don't end up in local archives randomly
- We are working on addressing all of these. 
]

.pull-right[
**Thora Kirstine Thorsen**
*https://arkiv.dk/vis/178152*
&lt;img src="Figures/annotated_178152.png" width="60%" alt="https://arkiv.dk/vis/178152"&gt;
]

---
# Number of pictures over time
![N](Figures/Number_of_pictures.png)


---
# Objects
![N](Figures/Objects_detected_above1000.png)

---
# Emotions
![N](Figures/Average_emotions_by_decade.png)

---
# Some ocular regression: Tommerup Stationsby
.center[
&lt;iframe src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d38285.490263207925!2d10.191880045700286!3d55.333963183235056!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e1!3m2!1sen!2sdk!4v1701266724087!5m2!1sen!2sdk" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"&gt;&lt;/iframe&gt;
]

---
# Empricial strategy

.pull-left[
- Difference in difference
- **Identifying assumption:**
  + Places with railways would have had a paralel developmental path given the absence of railways
- **Threats:**
  + Selection: Places on a prosperous path might be selected into connection. Or the opposite - deliberate investments targeted at growth. 
  
]

.pull-right[
![Rails](Figures/Rails.jpg)
]


---
# Do smiling people correlate with happiness?

.pull-left-narrow[
### Approach
- We looked at the world happiness report and what they suggest is related to happiness in the cannonical 'Cantril Ladder' (Helliwell et al, 2023)

### Correlates we can find historical data for (still WIP):
- Income 
- Social support 
- Freedom to make life choices (education)
- Generosity 
- Health
]

.pull-right-wide[
.panelset[
.panel[.panel-name[Income]
.center[&lt;img src="Figures/Reg_income_emotion.png" width="75%" alt="Income"&gt;]
*Parish level occ. income and emoitons*
]
.panel[.panel-name[... more to come]
]
]
]

---
# Railways and pictures
.pull-left-narrow[
- Simple (log of) count of pictures in parish
- Fine grained year by year data
- Very long run (100s of years!)
- **ATT-estimate:**  0.0879 [0.0669, 0.1089] `\(\rightarrow\)` 9 pct

- Effect of opening. None of closing.
]

.pull-right-wide[
.panelset[
.panel[.panel-name[Open]
.center[&lt;img src="Figures/DiD_n_pictures_opened.png" width="75%" alt="Opening"&gt;]
]

.panel[.panel-name[Open - cal.]
.center[&lt;img src="Figures/DiD_n_pictures_opened_effect_by_calendar.png" width="75%" alt="Opening"&gt;]
]

.panel[.panel-name[Closed]
.center[&lt;img src="Figures/DiD_n_pictures_closed.png" width="75%" alt="Opening"&gt;]
]
.panel[.panel-name[Closed - cal.]
.center[&lt;img src="Figures/DiD_n_pictures_closed_effect_by_calendar.png" width="75%" alt="Opening"&gt;]
]

]

]

---
# Railways and emotions
.pull-left-narrow[
- CS22 DiD estimator for individual pictures and whether their location (parish) is connected to the railway
- Very long run
- Based on 667,381 faces detected in 394,320 pictures
- Big nothing. Remarkable. 
]

.pull-right-wide[
.panelset[
.panel[.panel-name[Angry]
.center[&lt;img src="Figures/plots_1840_2020_emotions/dynamic_emotion_score_angry_1840_2020.png" width="75%" alt="Angry"&gt;]
]

.panel[.panel-name[Disgust]
.center[&lt;img src="Figures/plots_1840_2020_emotions/dynamic_emotion_score_disgust_1840_2020.png" width="75%" alt="Disgust"&gt;]
]

.panel[.panel-name[Fear]
.center[&lt;img src="Figures/plots_1840_2020_emotions/dynamic_emotion_score_fear_1840_2020.png" width="75%" alt="Fear"&gt;]
]

.panel[.panel-name[Happy]
.center[&lt;img src="Figures/plots_1840_2020_emotions/dynamic_emotion_score_happy_1840_2020.png" width="75%" alt="Happy"&gt;]
]

.panel[.panel-name[Neutral]
.center[&lt;img src="Figures/plots_1840_2020_emotions/dynamic_emotion_score_neutral_1840_2020.png" width="75%" alt="Neutral"&gt;]
]

.panel[.panel-name[Sad]
.center[&lt;img src="Figures/plots_1840_2020_emotions/dynamic_emotion_score_sad_1840_2020.png" width="75%" alt="Sad"&gt;]
]

.panel[.panel-name[Surprise]
.center[&lt;img src="Figures/plots_1840_2020_emotions/dynamic_emotion_score_surprise_1840_2020.png" width="75%" alt="Surprise"&gt;]
]

]

]



---
class: middle
# Conclusion
.pull-left[
- We turn pictures into data that we can analyze
- Scratching the surface of the complex interplay between institutions, geography, culture and well-being
- Railways improved classical economic outcomes and caused ideas to spread.
- Did people become happier?  

**Feel free to reach out**  
BlueSky: ChristianVedel.bsky.social 
christian-vs@sam.sdu.dk  
]

.pull-right[

https://arkiv.dk/vis/1117673

![School](Figures/annotated_1117673.png)
*Would you smile if you were that person?*

]

---
class: inverse, middle, center

# Appendix

---
class: middle

# Baseline railway results
.pull-left-wide[
![paper1 basic results](Figures/base_res_table3_tracks_to_modernity.png)
]

.footnote[
.small123[
*Table 3 in Görges et al (2025) https://arxiv.org/abs/2502.21141*
]
]

---
class: middle
# Baseline results decomposed
.pull-left-wide[
![Decomposed](Figures/base_res_decomposed_tracks_to_modernity.png)
.small123[
*Figure 6 in Görges et al (2025) https://arxiv.org/abs/2502.21141*
]
]

.pull-right-narrow[
- Lines have different effects by
- Later lines generally mattered more (or at least differently)
]


---
class: middle
# 'Institutional' effect (Grundtvigianism)

.pull-left-wide[
.pull-left[
### Assembly houses
![Assembly](Figures/p3_Density_Assembly_houses_MA.png)
]

.pull-right[
### Folk high schools
![highschools](Figures/p4_Density_Folk_high_schools_MA.png)
]
]


.footnote[
.small123[
*Treatment effect by year (DiD)*  
*Fig. 7C &amp; 7D in in Görges et al (2025) https://arxiv.org/abs/2502.21141*
]
]


---
# Least Cost Path instrument
.pull-left[
- The task of the first stage is to predict well (Mullainathan &amp; Spiess, 2017)
- Classical approach: Linear trunk-lines
- But we can do much better: Least Cost Path (Herzog, 2013)
- Costs:
  + `\(cost(s) = 1 + (s/S)^2\)`, where `\(S\)` is a parameter
  + It pays to cross a slope until it doesn't
- Compute optimal cost path using Dijkstra's algorithm
]

.pull-right[
.panelset[
.panel[.panel-name[Old map]
&lt;img src="Figures/Course of railways in terrain.png" width="80%" alt="Predicted lines"&gt;
]
.panel[.panel-name[Predicted lines]
&lt;img src="Figures/LCP_IV_crit2.png" width="100%" alt="Predicted lines"&gt;
]
]
]





    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
  "highlightStyle": "github",
  "highlightLines": true,
  "countIncrementalSlides": false,
  "ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>
<style>
.logo {
  background-image: url(Logos.png);
  background-size: contain;
  background-repeat: no-repeat;
  position: absolute;
  top: 1em;
  right: 1em;
  width: 83px;
  height: 96px;
  z-index: 0;
}
</style>

<script>
document
  .querySelectorAll(
    '.remark-slide-content' +
    ':not(.title-slide)' +
    // insert more to hide here
    ':not(.inverse)' +
    ':not(.hide-logo)'
  )
  .forEach(el => {
    el.innerHTML += '<div class="logo"></div>';
  });
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
